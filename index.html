<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéâ Cumplea√±os √âpico ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<style>
/* General */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Arial', sans-serif;
  text-align: center;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  min-height: 100vh;
  overflow-x: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  -webkit-tap-highlight-color: transparent;
}

/* Contenedor principal */
#mainContainer {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  max-width: 500px;
  min-height: 100vh;
  position: relative;
  z-index: 1;
  padding: 20px 0;
}

/* T√≠tulo */
h1 {
  font-family: 'Pacifico', cursive;
  color: #d6336c;
  margin-bottom: 20px;
  font-size: 2.2rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  padding: 0 10px;
  opacity: 0;
  animation: fadeIn 1s forwards;
  animation-delay: 0.5s;
}

/* Mensajes */
#messages {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
}

.message-bubble {
  background: rgba(255, 255, 255, 0.9);
  padding: 15px 20px;
  border-radius: 25px;
  margin: 10px 0;
  font-size: 1.1rem;
  width: 90%;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.8s forwards;
}

.message-bubble:nth-child(1) { animation-delay: 1s; }
.message-bubble:nth-child(2) { animation-delay: 2s; }
.message-bubble:nth-child(3) { animation-delay: 3s; }

/* Galer√≠a tipo Instagram */
.gallery-container {
  width: 100%;
  max-width: 400px;
  height: 300px;
  position: relative;
  margin: 20px 0;
  overflow: hidden;
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  -webkit-user-select: none;
  user-select: none;
}

.gallery-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 0.5s ease;
  display: flex;
  justify-content: center;
  align-items: center;
}

.gallery-slide.active {
  opacity: 1;
}

.gallery-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 15px;
}

.gallery-nav {
  position: absolute;
  top: 50%;
  width: 100%;
  display: flex;
  justify-content: space-between;
  transform: translateY(-50%);
  padding: 0 10px;
  z-index: 10;
}

.gallery-nav button {
  background: rgba(255, 255, 255, 0.5);
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  -webkit-tap-highlight-color: transparent;
}

.gallery-nav button:hover {
  background: rgba(255, 255, 255, 0.8);
}

.gallery-dots {
  position: absolute;
  bottom: 10px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 8px;
  z-index: 10;
}

.gallery-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: all 0.3s ease;
}

.gallery-dot.active {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.2);
}

/* Botones */
.buttons-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  margin: 20px 0;
  gap: 10px;
}

.action-btn {
  background: #d6336c;
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 10px;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  opacity: 0;
  animation: fadeIn 0.8s forwards;
  animation-delay: 4s;
  -webkit-tap-highlight-color: transparent;
}

.action-btn:hover {
  background: #a61e4d;
  transform: translateY(-2px);
}

#musicBtn {
  position: fixed;
  top: 15px;
  right: 15px;
  background: #ff9a9e;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  border: none;
  cursor: pointer;
  font-size: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  -webkit-tap-highlight-color: transparent;
}

/* Coraz√≥n inicial */
#startHeart {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 5rem;
  color: red;
  cursor: pointer;
  animation: beat 1s infinite alternate, glow 2s infinite alternate;
  z-index: 9999;
  text-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
  -webkit-tap-highlight-color: transparent;
}

/* Animaciones */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes beat {
  0% { transform: translate(-50%, -50%) scale(1); }
  100% { transform: translate(-50%, -50%) scale(1.2); }
}

@keyframes glow {
  0% { text-shadow: 0 0 10px rgba(255, 0, 0, 0.7), 0 0 20px rgba(255, 0, 0, 0.5); }
  50% { text-shadow: 0 0 20px rgba(255, 0, 0, 1), 0 0 40px rgba(255, 0, 0, 0.7); }
  100% { text-shadow: 0 0 10px rgba(255, 0, 0, 0.7), 0 0 20px rgba(255, 0, 0, 0.5); }
}

/* Part√≠culas y globos */
.confetti, .emoji, .heart, .star, .globo {
  position: fixed;
  pointer-events: none;
  z-index: 9999;
}

.confetti, .heart, .star {
  width: 12px;
  height: 12px;
}

.emoji {
  font-size: 1.5rem;
}

.globo {
  background: rgba(255, 182, 193, 0.9);
  padding: 10px 20px;
  border-radius: 50px;
  font-size: 1rem;
  color: #fff;
  font-weight: bold;
  white-space: nowrap;
  max-width: 80%;
  overflow: hidden;
  text-overflow: ellipsis;
  z-index: 9999;
}

/* Fuegos artificiales */
.firework {
  position: absolute;
  width: 5px;
  height: 5px;
  background: #fff;
  border-radius: 50%;
  pointer-events: none;
  animation: fw 1s linear forwards;
}

@keyframes fw {
  0% { opacity: 1; transform: translate(0, 0); }
  100% { opacity: 0; transform: translate(var(--x), var(--y)); }
}

/* Estrellas */
.starry {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: blink 2s infinite;
}

@keyframes blink {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Media queries para ajustes espec√≠ficos */
@media (max-width: 480px) {
  h1 {
    font-size: 1.8rem;
  }
  
  .message-bubble {
    font-size: 1rem;
    padding: 12px 18px;
  }
  
  .gallery-container {
    height: 250px;
  }
  
  .action-btn {
    font-size: 1rem;
    padding: 10px 20px;
  }
  
  #startHeart {
    font-size: 4rem;
  }
  
  /* Ajustes espec√≠ficos para Safari iOS */
  @media not all and (min-resolution:.001dpcm) { 
    @supports (-webkit-appearance:none) {
      .gallery-container {
        -webkit-backface-visibility: hidden;
        -webkit-transform: translateZ(0);
      }
    }
  }
}
</style>
</head>
<body>

<div id="mainContainer">
  <h1>üéâ ¬°Feliz Cumplea√±os, mi amor! üéâ</h1>

  <div id="messages">
    <div class="message-bubble">Hoy quiero recordarte lo especial que eres üíï</div>
    <div class="message-bubble">Gracias por todos los momentos que compartimos üíñ</div>
    <div class="message-bubble">Espero que tengas un d√≠a incre√≠ble lleno de amor üå∏</div>
  </div>

  <div class="gallery-container">
    <div class="gallery-slide active">
      <img src="photo1.jpg" alt="Nuestra foto 1">
    </div>
    <div class="gallery-slide">
      <img src="photo2.jpg" alt="Nuestra foto 2">
    </div>
    <div class="gallery-slide">
      <img src="photo3.jpg" alt="Nuestra foto 3">
    </div>
    <div class="gallery-slide">
      <img src="photo4.jpg" alt="Nuestra foto 4">
    </div>
    <div class="gallery-slide">
      <img src="photo5.jpg" alt="Nuestra foto 5">
    </div>
    
    <div class="gallery-nav">
      <button onclick="navGallery(-1)">‚ùÆ</button>
      <button onclick="navGallery(1)">‚ùØ</button>
    </div>
    
    <div class="gallery-dots">
      <div class="gallery-dot active" onclick="showSlide(0)"></div>
      <div class="gallery-dot" onclick="showSlide(1)"></div>
      <div class="gallery-dot" onclick="showSlide(2)"></div>
      <div class="gallery-dot" onclick="showSlide(3)"></div>
      <div class="gallery-dot" onclick="showSlide(4)"></div>
    </div>
  </div>

  <div class="buttons-container">
    <button class="action-btn" onclick="mostrarSorpresa()">Sorpresa üéÅ</button>
    <button class="action-btn" onclick="mostrarSecreto()">Mensaje secreto üíå</button>
    <button class="action-btn" onclick="mostrarCarta()">Abrir carta ‚úâÔ∏è</button>
  </div>
</div>

<audio id="music" loop>
  <source src="AmorMio.mp3" type="audio/mpeg">
  Tu navegador no soporta el elemento de audio.
</audio>
<button id="musicBtn" onclick="toggleMusic()">üîá</button>

<div id="startHeart">‚ù§Ô∏è</div>

<script>
// Variables
const music = document.getElementById('music');
const musicBtn = document.getElementById('musicBtn');
const startHeart = document.getElementById('startHeart');
const slides = document.querySelectorAll('.gallery-slide');
const dots = document.querySelectorAll('.gallery-dot');
let currentSlide = 0;
let musicPlaying = false;

// Iniciar todo al tocar coraz√≥n
startHeart.addEventListener('click', () => {
  // Intentar reproducir m√∫sica
  const playPromise = music.play();
  
  if (playPromise !== undefined) {
    playPromise
      .then(() => {
        musicPlaying = true;
        musicBtn.textContent = 'üîä';
        startHeart.style.display = 'none';
        generarEstrellas();
      })
      .catch(error => {
        // En iOS, necesitamos una interacci√≥n del usuario para reproducir audio
        console.log("Reproducci√≥n autom√°tica prevenida:", error);
        musicBtn.textContent = 'üîá';
        startHeart.style.display = 'none';
        generarEstrellas();
        alert("Toca el bot√≥n de m√∫sica en la esquina superior derecha para activar el sonido");
      });
  }
});

// Navegaci√≥n de galer√≠a
function showSlide(n) {
  slides[currentSlide].classList.remove('active');
  dots[currentSlide].classList.remove('active');
  
  currentSlide = n;
  
  slides[currentSlide].classList.add('active');
  dots[currentSlide].classList.add('active');
}

function navGallery(direction) {
  let newSlide = currentSlide + direction;
  
  if (newSlide < 0) {
    newSlide = slides.length - 1;
  } else if (newSlide >= slides.length) {
    newSlide = 0;
  }
  
  showSlide(newSlide);
}

// M√∫sica
function toggleMusic() {
  if (music.paused) {
    const playPromise = music.play();
    
    if (playPromise !== undefined) {
      playPromise
        .then(() => {
          musicPlaying = true;
          musicBtn.textContent = 'üîä';
        })
        .catch(error => {
          console.log("Error al reproducir:", error);
          musicBtn.textContent = 'üîá';
        });
    }
  } else {
    music.pause(); 
    musicBtn.textContent = 'üîá';
    musicPlaying = false;
  }
}

// Part√≠culas y fuegos
function lanzarParticulas(cant) {
  for (let i = 0; i < cant; i++) {
    const type = Math.random();
    let el = document.createElement('div');
    if (type < 0.4) {
      el.classList.add('confetti'); 
      el.style.background = ['#d6336c', '#ff9a9e', '#fad0c4', '#ffb6b9'][Math.floor(Math.random() * 4)];
    } else if (type < 0.6) {
      el.classList.add('emoji'); 
      el.textContent = ['üíñ', 'üå∏', 'üéä', '‚ú®'][Math.floor(Math.random() * 4)];
    } else if (type < 0.8) {
      el.classList.add('heart'); 
      el.style.background = 'red'; 
      el.style.width = '10px'; 
      el.style.height = '10px'; 
      el.style.borderRadius = '50%';
    } else {
      el.classList.add('star'); 
      el.style.background = 'yellow'; 
      el.style.width = '8px'; 
      el.style.height = '8px'; 
      el.style.borderRadius = '50%';
    }
    el.style.left = Math.random() * window.innerWidth + 'px';
    el.style.top = Math.random() * -50 + 'px';
    document.body.appendChild(el);
    animarParticula(el);
  }
}

function animarParticula(el) {
  const speed = Math.random() * 5 + 2;
  let y = 0;
  const interval = setInterval(() => {
    y += speed;
    el.style.top = y + 'px';
    if (y > window.innerHeight) {
      el.remove(); 
      clearInterval(interval);
    }
  }, 20);
}

function firework(x, y) {
  for (let i = 0; i < 30; i++) {
    const fw = document.createElement('div');
    fw.classList.add('firework');
    fw.style.left = x + 'px';
    fw.style.top = y + 'px';
    fw.style.setProperty('--x', (Math.random() * 300 - 150) + 'px');
    fw.style.setProperty('--y', (Math.random() * 300 - 150) + 'px');
    fw.style.background = ['#ff0', '#f0f', '#0ff', '#fff'][Math.floor(Math.random() * 4)];
    document.body.appendChild(fw);
    setTimeout(() => fw.remove(), 1000);
  }
}

// Botones
function mostrarSorpresa() {
  alert("Te amo con todo mi coraz√≥n ‚ù§Ô∏è");
  document.body.style.background = "linear-gradient(135deg, #ffdde1, #ee9ca7)";
  document.querySelector('h1').textContent = "¬°Eres lo mejor que me ha pasado! üíñ";
  lanzarParticulas(100);
  firework(window.innerWidth / 2, 100);
  generarGlobos();
}

function mostrarSecreto() {
  const mensajes = ['Eres mi persona favorita üíå', 'Cada d√≠a te quiero m√°s üíñ', 'Nunca cambies üå∏', 'Eres mi alegr√≠a üéâ'];
  const msj = mensajes[Math.floor(Math.random() * mensajes.length)];
  alert(msj);
}

function mostrarCarta() {
  const carta = document.createElement('div');
  carta.classList.add('globo');
  carta.textContent = "Querida, te amo m√°s de lo que las palabras pueden decir üíñüå∏üéâ";
  carta.style.left = '50%';
  carta.style.top = window.innerHeight + 'px';
  carta.style.transform = 'translateX(-50%)';
  document.body.appendChild(carta);
  let y = window.innerHeight;
  const interval = setInterval(() => {
    y -= 2;
    carta.style.top = y + 'px';
    if (y < 200) {
      clearInterval(interval); 
      setTimeout(() => carta.remove(), 4000);
    }
  }, 10);
}

function generarGlobos() {
  for (let i = 0; i < 5; i++) {
    const globo = document.createElement('div');
    globo.classList.add('globo');
    globo.textContent = ['üíñ Te adoro', 'üå∏ Eres √∫nica', 'üéä Felicidades', '‚ú® Mi amor', 'üíå Siempre t√∫'][i];
    globo.style.left = Math.random() * (window.innerWidth - 100) + 'px';
    globo.style.top = window.innerHeight + 'px';
    document.body.appendChild(globo);
    let y = window.innerHeight;
    const interval = setInterval(() => {
      y -= 2;
      globo.style.top = y + 'px';
      if (y < 150) {
        clearInterval(interval); 
        setTimeout(() => globo.remove(), 3000);
      }
    }, 15);
  }
}

// Estrellas
function generarEstrellas() {
  for (let i = 0; i < 50; i++) {
    const star = document.createElement('div');
    star.classList.add('starry');
    star.style.left = Math.random() * window.innerWidth + 'px';
    star.style.top = Math.random() * window.innerHeight + 'px';
    star.style.width = Math.random() * 2 + 1 + 'px';
    star.style.height = star.style.width;
    star.style.animationDuration = (Math.random() * 2 + 1) + 's';
    document.body.appendChild(star);
  }
}

// Click genera part√≠culas y fuegos
document.body.addEventListener('click', (e) => {
  lanzarParticulas(15);
  firework(e.clientX, e.clientY);
});

// Swipe para galer√≠a en m√≥viles
let touchStartX = 0;
let touchEndX = 0;

document.querySelector('.gallery-container').addEventListener('touchstart', e => {
  touchStartX = e.changedTouches[0].screenX;
});

document.querySelector('.gallery-container').addEventListener('touchend', e => {
  touchEndX = e.changedTouches[0].screenX;
  handleSwipe();
});

function handleSwipe() {
  if (touchEndX < touchStartX - 50) {
    navGallery(1);
  }
  if (touchEndX > touchStartX + 50) {
    navGallery(-1);
  }
}

// Precargar im√°genes para mejor rendimiento
window.addEventListener('load', () => {
  const images = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg', 'photo4.jpg', 'photo5.jpg'];
  images.forEach(src => {
    const img = new Image();
    img.src = src;
  });
});
</script>
</body>
</html>
